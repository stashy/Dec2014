{
    "contents" : "\nRegression Models Project\n----\n\n\n#### Context\n\nYou work for Motor Trend, a magazine about the automobile industry. Looking at a data set of a collection of cars, they are interested in exploring the relationship between a set of variables and miles per gallon (MPG) (outcome). They are particularly interested in the following two questions:\n\n* “Is an automatic or manual transmission better for MPG”\n* \"Quantify the MPG difference between automatic and manual transmissions\"\n\n-----\n\n\n#### Question\n\nTake the mtcars data set and write up an analysis to answer their question using regression models and exploratory data analyses.\n\nYour report must be:\n\n* Written as a PDF printout of a compiled (using knitr) R markdown document.\n* Brief. Roughly the equivalent of 2 pages or less for the main text. Supporting figures in an appendix can be included up to 5 total pages including the 2 for the main report. The appendix can only include figures.   \n* Include a first paragraph executive summary.\nUpload your PDF by clicking the Upload button below the text box.\n\n-----\n\n\n\n#### Peer Grading\n\n* The criteria that your classmates will use to evaluate and grade your work are shown below. \n* Each criteria is binary: (1 point = criteria met acceptably; 0 points = criteria not met acceptably)\n* Your Course Project score will be the sum of the points and will count as 40% of your final grade in the course. \n\n-----\n\n\n\n#### Evaluation/feedback on the above work\n\nNote: this section can only be filled out during the evaluation phase.\nUse this space to provide constructive feedback to the student who submitted the work. Point out both strengths and weaknesses in the submission and provide advice about how the work could be improved in the future. \n-----\n\n1). Did the student interpret the coefficients correctly?\n\n2). Did the student do some exploratory data analyses?\n\n3). Did the student fit multiple models and detail their strategy for model selection?\n\n4). Did the student answer the questions of interest or detail why the question(s) is (are) not answerable?\n\n5). Did the student do a residual plot and some diagnostics?\n\n6). Did the student quantify the uncertainty in their conclusions and/or perform an inference correctly?\n\n7). Was the report brief (about 2 pages long) for the main body of the report and no longer than 5 with supporting appendix of figures?\n\n8). Did the report include an executive summary?\n\n9). Was the report done in Rmd (knitr)?\n\nIf you feel that you need to explain any of your grading decisions, please do so in this space. \n\n\nAppendix\n-----\n1). Bring in data; convert parameters to factors where necessary.\nQuick plot.\n```{r}\ndata(mtcars)\nas.factor(mtcars$gear)->mtcars$gear\nas.factor(mtcars$cyl)->mtcars$cyl\nas.factor(mtcars$vs)->mtcars$vs\nas.factor(mtcars$am)->mtcars$am\nas.factor(mtcars$carb)->mtcars$carb\nlibrary(ggplot2)\n```\n2) ?mtcars gives info about \n[, 1]      mpg\tMiles/(US) gallon\n[, 2]\tcyl\tNumber of cylinders\n[, 3]\tdisp\tDisplacement (cu.in.)\n[, 4]\thp\tGross horsepower\n[, 5]\tdrat\tRear axle ratio\n[, 6]\twt\tWeight (lb/1000)\n[, 7]\tqsec\t1/4 mile time\n[, 8]\tvs\tV/S\n[, 9]\tam\tTransmission (0 = automatic, 1 = manual)\n[,10]\tgear\tNumber of forward gears\n[,11]\tcarb\tNumber of carburetors\n\nOne makes a few quick plots which show generally that \ngear,\ncyl,\ndrat,\ncarb \nand hp are  highly correlated with weight, and it is weight which drives mpg most. These variables \ndo not need to be included in the linear model therefore. \nVariable vs can probably also be eliminated from model.\n\n```{r}\nqplot(x=wt, y=mpg, data=mtcars, color=gear, geom=c(\"point\"),main=\"mpg by wt\", ,size=I(3),alpha=I(0.6))\nqplot(x=wt, y=mpg, data=mtcars, color=am, geom=c(\"point\"),main=\"drat\", facets=cyl~.,size=I(3),alpha=I(0.6))\n\n```\n\n3) Regression y=mpg  on x= am and wt;  Interpret coefficients\n\n```{r}\nqplot(x=wt,y=mpg,data=mtcars,color=am, geom=c(\"smooth\",\"point\"),method='lm',formula= y~ x ,main=\"mpg by wt\", ,size=I(3),alpha=I(0.6))\n```\nActual linear model is \n```{r}\nfit<-lm(formula=mpg ~ wt + am, data=mtcars)\nfit$coefficient\nsummary(fit)\n```\nThe regression tells us that at at zero weight, the mpg is 37, and that as \nweight increases, the mpg falls steeply.  Having am=1 decreases fuel efficiently very slightly. However this is not at all significant.  Look at residuals to\nfind some other explanatory variable.\n\n\n----\n4) Look at residuals. \nWe deliberately left out many of the variables available when regressing on fuel efficiency in mpg. Here we will check the residualas to see if these variables actually do have something to offer to the regression model.  If there is no obvious pattern in the residuals by these other variables, then it is appropriate to keep them out of the model.\nResiduals with patterns:\n```{r}\n\n\nqplot(x=wt, y=fit$residuals, data=mtcars,color=vs, geom=c(\"point\"),main=\"mpg by wt\", ,size=I(3),alpha=I(0.6))\nqplot(x=wt, y=fit$residuals, data=mtcars,color=qsec, geom=c(\"point\"),main=\"mpg by wt\", ,size=I(3),alpha=I(0.6))\n\n\n\n```\n \n5) Re-Regression y=mpg  on x= am and wt and vs or  qsec\ncontrol;  Interpret coefficients\n\n```{r}\nqplot(x=wt,y=mpg,data=mtcars,color=qsec, geom=c(\"smooth\",\"point\"),method='lm',formula= y~ x ,main=\"mpg by wt with am and qsec\", facets=.~am,size=I(3),alpha=I(0.6))\n\nqplot(x=wt,y=mpg,data=mtcars,color=vs, geom=c(\"smooth\",\"point\"),method='lm',formula= y~ x ,main=\"mpg by wt with am and vs\", facets=.~am,size=I(3),alpha=I(0.6))\n\nqplot(x=wt,y=mpg,data=mtcars,color=cyl, geom=c(\"smooth\",\"point\"),method='lm',formula= y~ x ,main=\"mpg by wt with am and cyl\", facets=.~am,size=I(3),alpha=I(0.6))\n```\nActual linear model is \n```{r}\nfit1<-lm(formula=mpg ~ wt + am + qsec, data=mtcars)\nfit1$coefficient\n\nfit2<-lm(formula=mpg ~ wt + am + vs, data=mtcars)\nfit2$coefficient\n\nfit3<-lm(formula=mpg ~ wt + am + cyl, data=mtcars)\nfit3$coefficient\n\nfit4<-lm(formula=mpg ~ wt + am + hp, data=mtcars)\nfit4$coefficient\n\n\nsummary(fit1)\nsummary(fit2)\n\nsummary(fit3)\nsummary(fit4)\n\n```\n\n\n\n\n\n\n\n\n4 Reject--=Residuals Without patterns:\n\n```{r}\nqplot(x=wt, y=fit$residuals, data=mtcars,color=cyl, geom=c(\"point\"),main=\"mpg by wt\", ,size=I(3),alpha=I(0.6))\n\nqplot(x=wt, y=fit$residuals, data=mtcars,color=hp, geom=c(\"point\"),main=\"mpg by wt\", ,size=I(3),alpha=I(0.6))\nqplot(x=wt, y=fit$residuals, data=mtcars,color=gear, geom=c(\"point\"),main=\"mpg by wt\", ,size=I(3),alpha=I(0.6))\nqplot(x=wt, y=fit$residuals, data=mtcars,color=disp, geom=c(\"point\"),main=\"mpg by wt\", ,size=I(3),alpha=I(0.6))\nqplot(x=wt, y=fit$residuals, data=mtcars,color=drat, geom=c(\"point\"),main=\"mpg by wt\", ,size=I(3),alpha=I(0.6))\n\nqplot(x=wt, y=fit$residuals, data=mtcars,color=carb, geom=c(\"point\"),main=\"mpg by wt\", ,size=I(3),alpha=I(0.6))\n```\n\n\n\n",
    "created" : 1417381804265.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3221311572",
    "id" : "5513783B",
    "lastKnownWriteTime" : 1417998183,
    "path" : "~/Documents/LARA/R folder/Coursera /Regression/RegressMod_proj.Rmd",
    "project_path" : "RegressMod_proj.Rmd",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_markdown"
}